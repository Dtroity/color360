<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Изменение статуса заказа №{{orderId}}</title>
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
      background-color: #f4f4f4;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    "
  >
    <table
      role="presentation"
      cellspacing="0"
      cellpadding="0"
      border="0"
      width="100%"
      style="background-color: #f4f4f4"
    >
      <tr>
        <td style="padding: 20px 0">
          <table
            role="presentation"
            cellspacing="0"
            cellpadding="0"
            border="0"
            width="100%"
            style="max-width: 600px; margin: 0 auto; background-color: #ffffff"
          >
            <!-- Header -->
            <tr>
              <td
                style="
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                  padding: 40px 30px;
                  text-align: center;
                "
              >
                <h1
                  style="
                    margin: 0 0 20px 0;
                    color: #ffffff;
                    font-size: 28px;
                    font-weight: bold;
                  "
                >
                  HiWatch Video Shop
                </h1>
                <h2
                  style="
                    margin: 0;
                    color: #ffffff;
                    font-size: 24px;
                    font-weight: normal;
                  "
                >
                  Изменение статуса заказа
                </h2>
              </td>
            </tr>

            <!-- Body -->
            <tr>
              <td style="padding: 40px 30px">
                <p
                  style="
                    margin: 0 0 20px 0;
                    font-size: 16px;
                    line-height: 1.6;
                    color: #333333;
                  "
                >
                  Здравствуйте, <strong>{{customerName}}</strong>!
                </p>

                <p
                  style="
                    margin: 0 0 30px 0;
                    font-size: 16px;
                    line-height: 1.6;
                    color: #333333;
                  "
                >
                  Статус вашего заказа <strong>№{{orderId}}</strong> изменился.
                </p>

                <!-- Status Box -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: {{statusColor}};
                    border-radius: 8px;
                    margin-bottom: 30px;
                  "
                >
                  <tr>
                    <td style="padding: 30px; text-align: center">
                      <h3
                        style="
                          margin: 0 0 15px 0;
                          color: #ffffff;
                          font-size: 22px;
                          font-weight: bold;
                        "
                      >
                        {{statusText}}
                      </h3>
                      <p
                        style="
                          margin: 0;
                          color: #ffffff;
                          font-size: 16px;
                          opacity: 0.95;
                        "
                      >
                        {{statusMessage}}
                      </p>
                    </td>
                  </tr>
                </table>

                <!-- Order Summary -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: #f9f9f9;
                    border-radius: 8px;
                    margin-bottom: 30px;
                  "
                >
                  <tr>
                    <td style="padding: 25px">
                      <h4
                        style="
                          margin: 0 0 15px 0;
                          color: #667eea;
                          font-size: 18px;
                        "
                      >
                        Детали заказа
                      </h4>

                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Номер заказа:</strong> {{orderId}}
                      </p>
                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Дата оформления:</strong> {{orderDate}}
                      </p>
                      <p
                        style="
                          margin: 0 0 20px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Сумма заказа:</strong> {{totalAmount}} ₽
                      </p>

                      <!-- Items List -->
                      <h4
                        style="
                          margin: 20px 0 10px 0;
                          font-size: 16px;
                          color: #333333;
                        "
                      >
                        Товары:
                      </h4>
                      <ul
                        style="
                          margin: 0;
                          padding: 0 0 0 20px;
                          list-style-type: disc;
                        "
                      >
                        {{#each items}}
                          <li
                            style="
                              margin: 0 0 8px 0;
                              font-size: 14px;
                              color: #333333;
                            "
                          >
                            {{this.productName}} ({{this.quantity}} шт.) - {{this.total}} ₽
                          </li>
                        {{/each}}
                      </ul>
                    </td>
                  </tr>
                </table>

                <!-- Shipping Address -->
                {{#if shippingAddress}}
                  <table
                    role="presentation"
                    cellspacing="0"
                    cellpadding="0"
                    border="0"
                    width="100%"
                    style="
                      background-color: #f9f9f9;
                      border-radius: 8px;
                      margin-bottom: 30px;
                    "
                  >
                    <tr>
                      <td style="padding: 25px">
                        <h4
                          style="
                            margin: 0 0 15px 0;
                            color: #667eea;
                            font-size: 18px;
                          "
                        >
                          Адрес доставки
                        </h4>
                        <p style="margin: 0; font-size: 14px; color: #666666">
                          {{shippingAddress}}
                        </p>
                        {{#if deliveryDate}}
                          <p
                            style="
                              margin: 10px 0 0 0;
                              font-size: 14px;
                              color: #666666;
                            "
                          >
                            <strong>Желаемая дата доставки:</strong>
                            {{deliveryDate}}
                          </p>
                        {{/if}}
                      </td>
                    </tr>
                  </table>
                {{/if}}

                <!-- Support Info -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: #e8f4fd;
                    border-radius: 8px;
                    margin-bottom: 20px;
                  "
                >
                  <tr>
                    <td style="padding: 25px; text-align: center">
                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #333333;
                        "
                      >
                        Вы будете получать уведомления о всех изменениях статуса
                        заказа.
                      </p>
                      <p style="margin: 0; font-size: 13px; color: #666666">
                        Если у вас возникли вопросы, свяжитесь с нами:
                      </p>
                      <p
                        style="
                          margin: 10px 0 0 0;
                          font-size: 14px;
                          color: #667eea;
                        "
                      >
                        <strong>Email:</strong> support@videoshop.com
                        <br />
                        <strong>Телефон:</strong> +7 (800) 123-45-67
                      </p>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- Footer -->
            <tr>
              <td
                style="
                  background-color: #f0f0f0;
                  padding: 30px;
                  text-align: center;
                "
              >
                <p style="margin: 0 0 10px 0; font-size: 12px; color: #999999">
                  © {{currentYear}} HiWatch Video Shop. Все права защищены.
                </p>
                <p style="margin: 0; font-size: 11px; color: #bbbbbb">
                  Это автоматическое письмо. Пожалуйста, не отвечайте на него.
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
