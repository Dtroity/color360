<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Подтверждение заказа №{{orderId}}</title>
    <!--[if mso]>
      <style>
        table {
          border-collapse: collapse;
        }
      </style>
    <![endif]-->
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
      background-color: #f4f4f4;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    "
  >
    <!-- Email Container -->
    <table
      role="presentation"
      cellspacing="0"
      cellpadding="0"
      border="0"
      width="100%"
      style="background-color: #f4f4f4"
    >
      <tr>
        <td style="padding: 20px 0">
          <!-- Main Content -->
          <table
            role="presentation"
            cellspacing="0"
            cellpadding="0"
            border="0"
            width="100%"
            style="max-width: 600px; margin: 0 auto; background-color: #ffffff"
          >
            <!-- Header -->
            <tr>
              <td
                style="
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                  padding: 40px 30px;
                  text-align: center;
                "
              >
                <!-- Logo -->
                <div style="margin-bottom: 20px">
                  <h1
                    style="
                      margin: 0;
                      color: #ffffff;
                      font-size: 28px;
                      font-weight: bold;
                    "
                  >
                    HiWatch Video Shop
                  </h1>
                </div>
                <h2
                  style="
                    margin: 0;
                    color: #ffffff;
                    font-size: 24px;
                    font-weight: normal;
                  "
                >
                  Спасибо за заказ!
                </h2>
              </td>
            </tr>

            <!-- Body -->
            <tr>
              <td style="padding: 40px 30px">
                <!-- Greeting -->
                <p
                  style="
                    margin: 0 0 20px 0;
                    font-size: 16px;
                    line-height: 1.6;
                    color: #333333;
                  "
                >
                  Здравствуйте, <strong>{{customerName}}</strong>!
                </p>

                <p
                  style="
                    margin: 0 0 30px 0;
                    font-size: 16px;
                    line-height: 1.6;
                    color: #333333;
                  "
                >
                  Ваш заказ <strong>№{{orderId}}</strong> успешно оформлен и
                  принят в обработку.
                </p>

                <!-- Order Details Box -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: #f9f9f9;
                    border-radius: 8px;
                    margin-bottom: 30px;
                  "
                >
                  <tr>
                    <td style="padding: 25px">
                      <h3
                        style="
                          margin: 0 0 15px 0;
                          color: #667eea;
                          font-size: 18px;
                        "
                      >
                        Детали заказа
                      </h3>

                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Статус:</strong>
                        <span style="color: #667eea">{{statusText}}</span>
                      </p>
                      <p
                        style="
                          margin: 0 0 20px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Дата оформления:</strong> {{orderDate}}
                      </p>

                      <!-- Items Table -->
                      <h4
                        style="
                          margin: 20px 0 10px 0;
                          font-size: 16px;
                          color: #333333;
                        "
                      >
                        Товары:
                      </h4>
                      <table
                        role="presentation"
                        cellspacing="0"
                        cellpadding="0"
                        border="0"
                        width="100%"
                        style="border-collapse: collapse"
                      >
                        <thead>
                          <tr style="background-color: #e8e8e8">
                            <th
                              style="
                                padding: 10px;
                                text-align: left;
                                font-size: 13px;
                                font-weight: bold;
                                color: #333333;
                              "
                            >
                              Товар
                            </th>
                            <th
                              style="
                                padding: 10px;
                                text-align: center;
                                font-size: 13px;
                                font-weight: bold;
                                color: #333333;
                              "
                            >
                              Кол-во
                            </th>
                            <th
                              style="
                                padding: 10px;
                                text-align: right;
                                font-size: 13px;
                                font-weight: bold;
                                color: #333333;
                              "
                            >
                              Цена
                            </th>
                            <th
                              style="
                                padding: 10px;
                                text-align: right;
                                font-size: 13px;
                                font-weight: bold;
                                color: #333333;
                              "
                            >
                              Сумма
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          {{#each items}}
                            <tr style="border-bottom: 1px solid #e8e8e8">
                              <td
                                style="
                                  padding: 12px 10px;
                                  font-size: 14px;
                                  color: #333333;
                                "
                              >
                                {{this.productName}}
                              </td>
                              <td
                                style="
                                  padding: 12px 10px;
                                  text-align: center;
                                  font-size: 14px;
                                  color: #333333;
                                "
                              >
                                {{this.quantity}}
                              </td>
                              <td
                                style="
                                  padding: 12px 10px;
                                  text-align: right;
                                  font-size: 14px;
                                  color: #333333;
                                "
                              >
                                {{this.price}} ₽
                              </td>
                              <td
                                style="
                                  padding: 12px 10px;
                                  text-align: right;
                                  font-size: 14px;
                                  color: #333333;
                                "
                              >
                                {{this.total}} ₽
                              </td>
                            </tr>
                          {{/each}}
                        </tbody>
                      </table>

                      <!-- Totals -->
                      <table
                        role="presentation"
                        cellspacing="0"
                        cellpadding="0"
                        border="0"
                        width="100%"
                        style="margin-top: 20px; border-top: 2px solid #667eea"
                      >
                        <tr>
                          <td
                            style="
                              padding: 10px 0;
                              text-align: right;
                              font-size: 16px;
                              color: #333333;
                            "
                          >
                            <strong>Промежуточный итог:</strong>
                          </td>
                          <td
                            style="
                              padding: 10px 0 10px 20px;
                              text-align: right;
                              font-size: 16px;
                              color: #333333;
                            "
                          >
                            {{subtotal}} ₽
                          </td>
                        </tr>
                        {{#if deliveryCost}}
                          <tr>
                            <td
                              style="
                                padding: 5px 0;
                                text-align: right;
                                font-size: 14px;
                                color: #666666;
                              "
                            >
                              <strong>Доставка:</strong>
                            </td>
                            <td
                              style="
                                padding: 5px 0 5px 20px;
                                text-align: right;
                                font-size: 14px;
                                color: #666666;
                              "
                            >
                              {{deliveryCost}} ₽
                            </td>
                          </tr>
                        {{/if}}
                        <tr>
                          <td
                            style="
                              padding: 15px 0 0 0;
                              text-align: right;
                              font-size: 20px;
                              color: #667eea;
                            "
                          >
                            <strong>Итого к оплате:</strong>
                          </td>
                          <td
                            style="
                              padding: 15px 0 0 20px;
                              text-align: right;
                              font-size: 20px;
                              color: #667eea;
                            "
                          >
                            <strong>{{totalAmount}} ₽</strong>
                          </td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                </table>

                <!-- Shipping Info -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: #f9f9f9;
                    border-radius: 8px;
                    margin-bottom: 30px;
                  "
                >
                  <tr>
                    <td style="padding: 25px">
                      <h3
                        style="
                          margin: 0 0 15px 0;
                          color: #667eea;
                          font-size: 18px;
                        "
                      >
                        Информация о доставке
                      </h3>
                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Адрес:</strong> {{shippingAddress}}
                      </p>
                      {{#if deliveryDate}}
                        <p
                          style="
                            margin: 0 0 10px 0;
                            font-size: 14px;
                            color: #666666;
                          "
                        >
                          <strong>Желаемая дата:</strong> {{deliveryDate}}
                        </p>
                      {{/if}}
                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #666666;
                        "
                      >
                        <strong>Способ оплаты:</strong> {{paymentMethod}}
                      </p>
                      {{#if companyName}}
                        <p
                          style="
                            margin: 0 0 10px 0;
                            font-size: 14px;
                            color: #666666;
                          "
                        >
                          <strong>Компания:</strong> {{companyName}}
                        </p>
                      {{/if}}
                      {{#if companyInn}}
                        <p
                          style="
                            margin: 0;
                            font-size: 14px;
                            color: #666666;
                          "
                        >
                          <strong>ИНН:</strong> {{companyInn}}
                        </p>
                      {{/if}}
                    </td>
                  </tr>
                </table>

                {{#if comment}}
                  <!-- Comment -->
                  <table
                    role="presentation"
                    cellspacing="0"
                    cellpadding="0"
                    border="0"
                    width="100%"
                    style="
                      background-color: #fff9e6;
                      border-radius: 8px;
                      border-left: 4px solid #ffc107;
                      margin-bottom: 30px;
                    "
                  >
                    <tr>
                      <td style="padding: 20px">
                        <p
                          style="
                            margin: 0 0 10px 0;
                            font-size: 14px;
                            font-weight: bold;
                            color: #333333;
                          "
                        >
                          Ваш комментарий:
                        </p>
                        <p style="margin: 0; font-size: 14px; color: #666666">
                          {{comment}}
                        </p>
                      </td>
                    </tr>
                  </table>
                {{/if}}

                <!-- Support Info -->
                <table
                  role="presentation"
                  cellspacing="0"
                  cellpadding="0"
                  border="0"
                  width="100%"
                  style="
                    background-color: #e8f4fd;
                    border-radius: 8px;
                    margin-bottom: 20px;
                  "
                >
                  <tr>
                    <td style="padding: 25px; text-align: center">
                      <p
                        style="
                          margin: 0 0 10px 0;
                          font-size: 14px;
                          color: #333333;
                        "
                      >
                        Мы уведомим вас об изменении статуса заказа на этот
                        email.
                      </p>
                      <p
                        style="margin: 0; font-size: 13px; color: #666666"
                      >
                        Если у вас возникли вопросы, свяжитесь с нами:
                      </p>
                      <p
                        style="
                          margin: 10px 0 0 0;
                          font-size: 14px;
                          color: #667eea;
                        "
                      >
                        <strong>Email:</strong> support@videoshop.com
                        <br />
                        <strong>Телефон:</strong> +7 (800) 123-45-67
                      </p>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- Footer -->
            <tr>
              <td
                style="
                  background-color: #f0f0f0;
                  padding: 30px;
                  text-align: center;
                "
              >
                <p style="margin: 0 0 10px 0; font-size: 12px; color: #999999">
                  © {{currentYear}} HiWatch Video Shop. Все права защищены.
                </p>
                <p style="margin: 0; font-size: 11px; color: #bbbbbb">
                  Это автоматическое письмо. Пожалуйста, не отвечайте на него.
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
